const year=document.querySelector("#year"),currentYear=new Date().getFullYear();year.innerHTML=`Built with <span class='love'>â™¥</span> by <b>Yusuf Sugiono</b> &copy ${currentYear}`,document.querySelector("#reply-with-tts").addEventListener("click",t=>{t.preventDefault(),document.querySelector("#tts").scrollIntoView()}),document.querySelector("#reply-with-stt").addEventListener("click",t=>{t.preventDefault(),document.querySelector("#stt").scrollIntoView()});const speechRecognition=window.webkitSpeechRecognition,recognition=new speechRecognition,textbox=document.querySelector("#textbox"),startBtn=document.querySelector("#start-btn"),stopBtn=document.querySelector("#stop-btn");let content="";recognition.continuous=!0,recognition.onerror=function(){console.log("Try Again")},recognition.onresult=function(t){let e=t.resultIndex,n=t.results[e][0].transcript;content+=n,textbox.value=content},document.querySelector("#start-btn").addEventListener("click",function(t){t.preventDefault(),recognition.start(),startBtn.setAttribute("disabled","disabled"),startBtn.style.display="none",stopBtn.removeAttribute("disabled"),stopBtn.style.display="inline"}),document.querySelector("#stop-btn").addEventListener("click",function(t){t.preventDefault(),recognition.stop(),stopBtn.setAttribute("disabled","disabled"),stopBtn.style.display="none",startBtn.removeAttribute("disabled"),startBtn.style.display="inline"}),textbox.addEventListener("input",function(){content=textbox.value}),document.querySelector("#reset-btn").addEventListener("click",function(t){t.preventDefault(),textbox.value=""});const synth=window.speechSynthesis;async function setSpeech(t){return new Promise(function(e,n){let r;r=setInterval(()=>{0!==t.getVoices().length&&(e(t.getVoices()),clearInterval(r))},20)})}async function getFilteredVoice(t){let e=await setSpeech(t),n=/^id(-[a-z]{2})?$/i,r=e.find(t=>n.test(t.lang));return r}async function ttsSpeak(t,e){let n=new SpeechSynthesisUtterance(e),r=await getFilteredVoice(t);n.voice=r,t.speak(n)}const playTtsBtn=document.querySelector("#play-tts-btn").addEventListener("click",function(t){t.preventDefault();let e=document.querySelector("#textInput").value;ttsSpeak(synth,e)});document.querySelector("#reset-btn-tts").addEventListener("click",function(t){t.preventDefault(),document.querySelector("#textInput").value=""});